{
  "name": "metadata",
  "title": "Working with metadata",
  "summary": "Learn to work with metadata.",
  "relatedRecipes": [
    "video_search"
  ],
  "icon": "exclamation",
  "steps": [
    {
      "title": "Create metadata profile",
      "description": "This recipe will walk you through using custom metadata fields with entries. Custom metadata can also be applied to other objects, such as categories.",
      "parameters": [
        {
          "name": "name",
          "label": "Profile Name",
          "default": ""
        },
        {
          "name": "systemName",
          "label": "System Profile Name",
          "default": ""
        },
        {
          "name": "metadataObjectType",
          "default": "1",
          "hidden": true
        },
        {
          "name": "objectType",
          "default": "1",
          "hidden": true
        },
        {
          "name": "createMode",
          "default": "1",
          "hidden": true
        },
        {
          "name": "xsdData",
          "label": "XSD data",
          "default": "this will get overwritten in recipes.js",
          "hidden": true
        }
      ],
      "apiCall": {
        "path": "/service/metadata_metadataprofile/action/add",
        "method": "get"
      }
    },
    {
      "title": "Add metadata to an entry",
      "description": "To learn how to search through metadata fields, please see the [video_search recipe](https://developer.kaltura.org/recipes/video_search)",
      "parameters": [
        {
          "name": "objectId",
          "label": "entryId",
          "default": ""
        },
        {
          "name": "xmlData",
          "label": "XML",
          "default": "<metadata><Somefield>LINUX RULES</Somefield></metadata>"
        },
        {
          "name": "objectType",
          "default": "1",
          "hidden": true
        },
        {
          "name": "metadataProfileId",
          "label": "Metadata Profile",
          "dynamicEnum": {
            "service": "metadataProfile",
            "action": "list",
            "map": {
              "value": "id",
              "label": "name"
            }
          }
        }
      ],
      "apiCall": {
        "path": "/service/metadata_metadata/action/add",
        "method": "get"
      }
    },
    {
      "title": "Update entry metadata",
      "description": ".",
      "parameters": [
        {
          "name": "id",
          "label": "Metadata ID",
          "default": ""
        },
        {
          "name": "xmlData",
          "label": "XML",
          "default": "<metadata><Somefield>NEW VALUE HERE</Somefield></metadata>"
        }
      ],
      "apiCall": {
        "path": "/service/metadata_metadata/action/update",
        "method": "get"
      }
    },
    {
      "title": "Delete metadata",
      "description": "Browse existing ids in the frame below and click 'Delete' to remove them.",
      "parameters": [
        {
          "name": "objectIdEqual",
          "label": "entryId",
          "default": ""
        },
        {
          "name": "metadataProfileIdEqual",
          "label": "Metadata Profile",
          "dynamicEnum": {
            "service": "metadataProfile",
            "action": "list",
            "map": {
              "value": "id",
              "label": "name"
            }
          }
        }
      ]
    },
    {
      "title": "Delete metadata profiles",
      "description": "Browse existing profiles in the frame below and click 'Delete' to remove them.",
      "parameters": []
    }
  ]
}